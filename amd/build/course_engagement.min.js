define ("local_ace/course_engagement",["exports","core/ajax","core/chart_builder","core/chart_output_chartjs","local_ace/chart_filters"],function(a,b,c,d,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.init=void 0;b=f(b);c=f(c);d=f(d);function f(a){return a&&a.__esModule?a:{default:a}}var g=0,h,i=function(a){if(0!==g){return}g=a.courseid;h=a.colourteachercoursehistory;(0,e.init)(k)};a.init=i;var j=function(a){var b=document.querySelector("#chart-area-engagement"),c=b.querySelector(".chart-image");c.innerHTML=a},k=function(a,b){var e=m(null,a,b).then(function(a){if(null!==a.error||0===a.series.length){j(a.error);return null}var b=l();b.series[0].values=a.series;b.labels=a.xlabels;b.axes.y[0].max=100;b.axes.y[0].stepSize=25;var c={};a.ylabels.forEach(function(a){c[a.value]=a.label});b.axes.y[0].labels=c;return b}).catch(function(){j("API Error")});e.then(function(a){if(null===a){return}var b=document.querySelector("#chart-area-engagement"),e=b.querySelector(".chart-image");e.innerHTML="";c.default.make(a).then(function(a){new d.default(e,a)}).catch()}).catch()},l=function(){return{type:"line",series:[{label:"Engagement",labels:null,type:null,values:null,colors:[h],fill:null,axes:{x:null,y:null},urls:[],smooth:null}],labels:null,title:null,axes:{x:[],y:[{label:null,labels:{},max:null,min:0,position:null,stepSize:null}]},legend_options:{display:!1},config_colorset:null,smooth:!0}},m=function(a,c,d){return b.default.call([{methodname:"local_ace_get_course_analytics_graph",args:{courseid:g,period:a,start:c,end:d}}])[0]}});
//# sourceMappingURL=course_engagement.min.js.map
